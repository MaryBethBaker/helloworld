Thanks to @tobi for providing the base code for the map and layout.